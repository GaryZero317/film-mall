# 胶片商城统计模块测试数据

这个目录包含用于生成胶片商城统计模块测试数据的脚本文件。测试数据涵盖以下表：

- `product_view_log`：商品浏览记录
- `user_activity_log`：用户活跃度记录
- `product_sales_daily`：商品销售统计（按天）
- `category_sales_daily`：商品类别销售统计（按天）

## 数据特点

生成的测试数据模拟了胶片购买商城的真实场景，与实际商品类别对应：

1. **胶片类别（按数据库实际类别）**：
   - 135胶卷（ID: 1）
      - 彩色负片（ID: 4）
      - 彩色反转片（ID: 5）
      - 黑白负片（ID: 6）
   - 120胶卷（ID: 2）
      - 彩色负片（ID: 7）
      - 彩色反转片（ID: 8）
   - 拍立得相纸（ID: 3）
      - 宝丽来相纸（ID: 9）
      - 富士相纸（ID: 10）
   - 电影卷（ID: 11）
      - 彩色负片（ID: 13）
      - 彩色反转片（ID: 14）
      - 黑白负片（ID: 15）
   - 胶卷冲洗（ID: 16）
   - 哈苏X5（ID: 17）
   - 富士SP3000（ID: 18）

2. **价格区间**：
   - 彩色负片(135)：¥50-120
   - 彩色反转片(135)：¥80-150
   - 黑白负片(135)：¥40-100
   - 彩色负片(120)：¥60-150
   - 彩色反转片(120)：¥90-170
   - 宝丽来相纸：¥60-200
   - 富士相纸：¥50-170
   - 电影彩色负片：¥150-350
   - 电影彩色反转片：¥180-400
   - 电影黑白负片：¥120-300

3. **销售模式**：
   - 周末销量比平日高30%
   - 特定日期有销售高峰（如节假日）
   - 热门胶片有明显销售优势
   - 不同类型用户有不同购买偏好（专业摄影师vs新手）

## 使用方法

### Windows 用户

1. 确保MySQL服务已启动
2. 双击运行 `import_test_data.bat` 文件
3. 如有必要，输入MySQL密码

### Linux/Mac 用户

1. 确保MySQL服务已启动
2. 在终端中执行以下命令：
   ```
   chmod +x import_test_data.sh
   ./import_test_data.sh
   ```
3. 如有必要，输入MySQL密码

## 启动统计服务

导入数据后，在项目根目录执行：

```
cd service/statistics/api
go run statistics.go
```

然后在前端管理界面查看统计图表。

## 注意事项

- 默认使用的数据库用户是 `root`，密码是 `200317`。如需修改，请编辑脚本中的连接信息。
- 导入测试数据会清空现有统计数据表中的内容。
- 生成的测试数据范围是最近30天。
- 测试数据中的类别ID与实际商品类别表(product_category)对应，确保统计结果能够正确显示。 